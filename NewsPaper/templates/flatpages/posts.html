<!--  наследуемся от шаблона default.html, который мы создавали для flatpages -->
{% extends 'flatpages/default.html' %}
{% load custom_filters %}
<!-- Название у нас будет products -->
{% block title %}
    posts
{% endblock title %}

<!-- В контенте на странице мы выводим все товары -->
{% block content %}
    <h5>(я не смог сделать переход по ссылкам, поэтому указал айди пока)</h5>
    <!-- Выводим товары, только если они есть с помощью тега if -->
    {% if posts %}
        <table>
            <tr>
                <td>Author</td>
                <td>Content</td>
                <td>Subhub</td>
                <td>Date</td>
                <td>Id</td>
            </tr>
            {% for post in posts %}
                <tr>
                    <td>{{ post.author.username }}</td>
                    <td>{{ post.preview|curse_filter }}</td>
                    <td>{{ post.subhub.name }}</td>
                    <td>{{ post.date }}</td>
                    <td>{{ post.pk }}</td>
                </tr>
            {% endfor %}

        </table>
    {% else %}
        <!-- Если товаров нет, говорим, что товаров нет ;) -->
        <h2>Посты не найдены</h2>
    {% endif %}
{% endblock content %}